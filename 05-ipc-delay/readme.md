# 线程间同步机制
&emsp;&emsp;线程间同步主要实现了信号量`（在这个平台上实际是单核多线程，因此在信号量临界区直接使用了关闭调度器的方式，避免资源冲突。）`。信号量的实现见代码`ipc.c:26`。信号量结构体主要成员包括，flag：指示线程挂起队列的实现方式（包括阻塞等待和直接返回两种）。以及挂起队列suspend_thread和该信号量当前资源数量。

# 系统延时函数
## 空转延时
&emsp;&emsp;在这个延时方法中，线程不会自主挂起，而是空转cpu，直到延时结束则继续执行逻辑。或者时间片结束被调度。`详见代码delay.c:7`

## 挂起延时
&emsp;&emsp;在这个延时方法中，线程会初始化自己的线程定时器，定时器超时tick和延时相关，并把定时器挂载到定时器超时队列上。并把自己的线程状态设置为挂起，从就绪队列中移除。等到定时器超时，会让线程恢复就绪态，插入就绪队列中，重新等待调度。`详见代码delay.c:21`
